<!DOCTYPE html>
<html lang="zh">

<head>
    <title>无动力</title>

    <!-- 页面字符编码 -->
    <meta charset="utf-8">

    <!-- 避免IE使用兼容模式 -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <!-- 启用360浏览器的极速模式(webkit) -->
    <meta name="renderer" content="webkit">
    <!-- 微软的老式浏览器 -->
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no" />

    <link rel="stylesheet" href="/airport/assets/vender/iView/styles/iView.min.css">
    <link rel="stylesheet" href="/airport/assets/vender/openLayer/ol.min.css">
    <link rel="stylesheet" href="/airport/assets/vender/radar/radar.min.css">
    <link rel="stylesheet" type="text/css" href="/airport/www/css/common.min.css?v=asdfasdf342345" />

</head>

<body>

    <div id="js-vue" class="mapContainer">

        <baidu-map class="baiduMap mapWrap bm-view" :double-click-zoom="false" :scroll-wheel-zoom="true"
            :continuous-zoom="true" :map-click="false" :map-type="baiduMapInfo.mapType" :center="baiduMapInfo.center"
            :zoom="baiduMapInfo.zoom" @ready="baiduMapHandle" @click="baiduMapClick" @dblclick="dbClickBaiduMap">

            <bm-context-menu>
                <template v-if="isAddDefensAction==true">
                    <bm-context-menu-item :seperator="true"></bm-context-menu-item>
                    <bm-context-menu-item :callback="endDefensEdite" text="结束防区编辑"></bm-context-menu-item>
                </template>
                <template v-if="!!vehiclePositonPageInfo.centerPosition">
                    <bm-context-menu-item :seperator="true"></bm-context-menu-item>
                    <bm-context-menu-item :callback="cancelAreaSearch" text="取消范围查询"></bm-context-menu-item>
                </template>
                <bm-context-menu-item :callback="resetView" text="重置视图"></bm-context-menu-item>
                <bm-context-menu-item :callback="refresh" text="重置刷新"></bm-context-menu-item>
                <bm-context-menu-item :seperator="true"></bm-context-menu-item>
                <bm-context-menu-item :callback="setLayerTypeNormal" text="矢量图层"></bm-context-menu-item>
                <bm-context-menu-item :callback="setLayerTypeHybrid" text="卫星图层"></bm-context-menu-item>
            </bm-context-menu>

            <!-- 信息弹出层 -->
            <bm-info-window :closeOnClick="false" :autoPan="true" :position="baiduMapInfo.openInfoWindow.position"
                :show="baiduMapInfo.openInfoWindow.show" :width="openInfoWidth" :height="openInfoHeight"
                @clickclose="openInfoWindowClose">

                <!-- 车辆POP -->
                <template v-if="baiduMapInfo.openInfoWindow.type=='isVehiclePopInfo'">
                    <template v-if="!!vehicleItemPop">
                        <div id="popup-content" style="width: 360px;">
                            <p>公司名称：{{vehicleItemPop.companyName}}</p>
                            <p>部门名称：{{vehicleItemPop.deptName}}</p>
                            <p v-if="vehicleItemPop.address">车辆位置：{{vehicleItemPop.address}}</p>
                            <p>车辆编码：{{vehicleItemPop.vehicleCode}}</p>
                            <template v-if="vehicleItemPop.licenseNumber">
                                <p>
                                    车&nbsp;&nbsp;牌&nbsp;&nbsp;号：{{vehicleItemPop.licenseNumber}}
                                </p>
                            </template>
                            <p>车辆名称：{{vehicleItemPop.vehicleName}}</p>
                            <p>车辆类型：{{vehicleItemPop.vehicleTypeName}}</p>
                            <p>终端设备：{{vehicleItemPop.gpsDeviceCode}}</p>
                            <p>车辆速度：{{vehicleItemPop.speed}} 公里/小时</p>
                            <p>最新GPS时间：<span
                                    :style="{background: vehicleItemPop.isOverTime?'#fbd048':''}"><span>{{vehicleItemPop.lastGpsTime}}
                                        {{vehicleItemPop.isOverTime?'超过24小时未定位':''}}</span></span></p>
                            <p>最后上线时间：<span
                                    :style="{background: vehicleItemPop.isOnTime?'#fbd048':''}"><span>{{vehicleItemPop.lastOnlineTime}}
                                        {{vehicleItemPop.isOnTime?'超过24小时未上线':''}}</span></span></p>
                            <p>运动状态：<span
                                    :class="'_'+vehicleItemPop.vehicleStatus"><span>{{vehicleItemPop.vehicleStatusName}}</span></span>
                            </p>
                            <template v-if="vehicleItemPop.alarmFlag==1">
                                <p style="padding: 3px 0;">报警详情：<i-button size="small"
                                        @click="toAlarmPage(vehicleItemPop.licenseNumber)" type="primary">有未处理报警信息,查看详情
                                    </i-button>
                                </p>
                            </template>
                            <template v-if="functionInfo.isViewVideo">
                                <template v-if="vehicleItemPop.providerId<100">
                                    <template
                                        v-if="vehicleItemPop.vehicleStatus==401||vehicleItemPop.vehicleStatus==402">
                                        <p style="padding: 3px 0;">视&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;频：
                                            <i-button size="small"
                                                @click="showLiveVideo(window.pageVue.vehicleItemPop, 0)" type="primary"
                                                icon="md-play">实时监控</i-button>
                                            <template v-if="vehicleItemPop.providerId!=2">
                                                <i-button size="small"
                                                    @click="showLiveVideo(window.pageVue.vehicleItemPop, 1)"
                                                    icon="md-play">视频回放</i-button>
                                            </template>
                                        </p>
                                    </template>
                                </template>
                            </template>
                            <template v-if="functionInfo.isTrack">
                                <p>回放速度：{{baiduMapInfo.animationInfo.speed}}公里/小时
                                    <Slider style="margin: 10px 0;" v-model="baiduMapInfo.animationInfo.speed" :min="60"
                                        :max="200" show-tip="always">
                                    </Slider>
                                </p>
                                <Row gutter="5" class="trajectoryAction">
                                    <i-col span="6">
                                        <i-button size="small" long @click="getSingleVehicleTrackByBaidu" type="primary"
                                            icon="ios-search-outline">查轨迹</i-button>
                                    </i-col>
                                    <i-col span="6">
                                        <i-button size="small" long @click="playBackByBaidu" type="warning"
                                            icon="ios-git-branch">轨迹回放</i-button>
                                    </i-col>
                                    <i-col span="6">
                                        <i-button size="small" long @click="clearTrackByBaidu" type="error"
                                            icon="ios-trash-outline">清除轨迹</i-button>
                                    </i-col>
                                    <i-col span="6">
                                        <i-button size="small" @click="openInfoWindowClose" icon="ios-close">关闭弹窗
                                        </i-button>
                                    </i-col>
                                </Row>
                            </template>
                        </div>
                    </template>
                </template>

                <!-- 轨迹点POP -->
                <template v-if="baiduMapInfo.openInfoWindow.type=='isTrajectPoint'">
                    <template v-if="!!baiduMapInfo.animationInfo.trajectoryItem">
                        <div id="popup-content">
                            <p>公司：{{baiduMapInfo.animationInfo.trajectoryItem.companyName}}</p>
                            <p>部门名称：{{baiduMapInfo.animationInfo.trajectoryItem.deptName}}</p>
                            <p>车辆名称：{{baiduMapInfo.animationInfo.trajectoryItem.vehicleName}}</p>
                            <p>车牌号：{{baiduMapInfo.animationInfo.trajectoryItem.licenseNumber}}</p>
                            <p>车辆类型：{{baiduMapInfo.animationInfo.trajectoryItem.vehicleTypeName}}</p>
                            <p>车辆编码：{{baiduMapInfo.animationInfo.trajectoryItem.vehicleCode}}</p>
                            <p>上传时间：{{baiduMapInfo.animationInfo.trajectoryItem.time}}</p>
                            <template v-if="baiduMapInfo.animationInfo.trajectoryItem.stayTime">
                                <p>停留时长：{{baiduMapInfo.animationInfo.trajectoryItem.stayTime.day}}天{{baiduMapInfo.animationInfo.trajectoryItem.stayTime.hour}}时{{baiduMapInfo.animationInfo.trajectoryItem.stayTime.minute}}分{{baiduMapInfo.animationInfo.trajectoryItem.stayTime.second}}秒
                                </p>
                            </template>
                            <p>车辆速度：{{baiduMapInfo.animationInfo.trajectoryItem.speed}} 公里/小时</p>
                            <template v-if="baiduMapInfo.animationInfo.trajectoryItem.address">
                                <p>车辆位置：{{baiduMapInfo.animationInfo.trajectoryItem.address}}</p>
                            </template>
                        </div>
                    </template>
                </template>

                <!-- 摄像机POP -->
                <template v-if="baiduMapInfo.openInfoWindow.type=='isCameraPop'">
                    <div class="mapOpenInfo">
                        <div class="mapSearch" style="width: 450px">
                            <table style="width: 100%;">
                                <tbody>
                                    <tr>
                                        <td style="width: 60px;">
                                            <span class="request">＊</span>
                                            <span class="label"
                                                v-text="{'CN':'公司','EN':'Company','TW':'公司'}[language]"></span>
                                        </td>
                                        <td>
                                            <template>
                                                <i-select :disabled="!functionInfo.isCamera" style="width: 150px"
                                                    @on-change="getDepartmentList('cameraDetailInfo')"
                                                    v-model="cameraDetailInfo.companyId" clearable
                                                    :placeholder="{'CN':'请选择','EN':'Please Choose','TW':'請選擇'}[language]">
                                                    <i-option v-for="item in companyList" :value="item.id">
                                                        {{item.companyName}}
                                                    </i-option>
                                                </i-select>
                                            </template>
                                        </td>
                                        <td style="text-align: right;">
                                            <span class="request">＊</span>
                                            <span
                                                v-text="{'CN':'部门','EN':'Superior Department','TW':'部門'}[language]"></span>
                                        </td>
                                        <td>
                                            <template>
                                                <Cascader :disabled="!functionInfo.isCamera" :data="departmentList"
                                                    v-model="cameraDetailInfo.deptIds" trigger="click"
                                                    style="width: 150px" :change-on-select="true">
                                                </Cascader>
                                            </template>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="width: 60px;">
                                            <span class="request">＊</span>
                                            <span class="label"
                                                v-text="{'CN':'名称','EN':'Name','TW':'名稱'}[language]"></span>
                                        </td>
                                        <td>
                                            <i-input :disabled="!functionInfo.isCamera" style="width: 150px"
                                                v-model="cameraDetailInfo.cameraName" />
                                        </td>
                                        <td style="text-align: right;">
                                            <span class="label"
                                                v-text="{'CN':'编码','EN':'Code','TW':'編碼'}[language]"></span>
                                        </td>
                                        <td>
                                            <i-input :disabled="!functionInfo.isCamera" style="width: 150px"
                                                v-model="cameraDetailInfo.cameraCode" />
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <span class="request">＊</span>
                                            <span class="label"
                                                v-text="{'CN':'描述','EN':'Describe','TW':'描述'}[language]"></span>
                                        </td>
                                        <td>
                                            <i-input :disabled="!functionInfo.isCamera" style="width: 150px"
                                                v-model="cameraDetailInfo.cameraDesc" />
                                        </td>
                                        <td style="text-align: right;">
                                            <span class="label"
                                                v-text="{'CN':'直播地址','EN':'Live URL','TW':'直播地址'}[language]"></span>
                                        </td>
                                        <td>
                                            <i-input :disabled="!functionInfo.isCamera" style="width: 150px"
                                                v-model="cameraDetailInfo.rtspLiveUrl" />
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <span class="label"
                                                v-text="{'CN':'录播地址','EN':'Delayed URL','TW':'錄播地址'}[language]"></span>
                                        </td>
                                        <td>
                                            <i-input :disabled="!functionInfo.isCamera" style="width: 150px"
                                                v-model="cameraDetailInfo.rtspHisUrl" />
                                        </td>
                                        <td style="text-align: right;">
                                            <span class="label"
                                                v-text="{'CN':'半径','EN':'raduis','TW':'半徑'}[language]"></span>
                                        </td>
                                        <td>
                                            <Input-number :formatter="value => `${value}米`"
                                                :parser="value => value.replace('米', '')"
                                                :disabled="!functionInfo.isCamera" v-model="cameraDetailInfo.radius"
                                                style="width: 150px">
                                            </Input-number>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <span class="label"
                                                v-text="{'CN':'视野角度','EN':'Angle of view','TW':'視野角度'}[language]"></span>
                                        </td>
                                        <td>
                                            <Input-number :min="0" :max="360" :formatter="value => `${value}度`"
                                                :parser="value => value.replace('度', '')"
                                                :disabled="!functionInfo.isCamera" v-model="cameraDetailInfo.angle"
                                                style="width: 150px">
                                            </Input-number>
                                        </td>
                                        <td style="text-align: right;">
                                            <span class="label"
                                                v-text="{'CN':'状态','EN':'state','TW':'狀態'}[language]"></span>
                                        </td>
                                        <td>
                                            <template>
                                                <i-select :disabled="!functionInfo.isCamera" style="width: 150px"
                                                    v-model="cameraDetailInfo.monitorStatus" clearable
                                                    :placeholder="{'CN':'请选择','EN':'Please Choose','TW':'請選擇'}[language]">
                                                    <i-option v-for="item in monitorStatusList" :value="item.type">
                                                        {{item.name}}
                                                    </i-option>
                                                </i-select>
                                            </template>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <span class="label"
                                                v-text="{'CN':'备注','EN':'Remark','TW':'備註'}[language]"></span>
                                        </td>
                                        <td colspan="3">
                                            <i-input :disabled="!functionInfo.isCamera"
                                                v-model="cameraDetailInfo.remark" />
                                        </td>
                                    </tr>
                                </tbody>
                            </table>

                            <Row type="flex" justify="start" gutter="10">
                                <i-col span="9"></i-col>
                                <i-col span="5">
                                    <i-button type="default" @click="openInfoWindowClose">关闭弹窗</i-button>
                                </i-col>
                                <template v-if="functionInfo.isCamera">
                                    <i-col span="5">
                                        <Poptip confirm width="200"
                                            :title="{'CN':'您确定删除摄像机?','EN':'Are You Sure You Want To Delete The Camera?','TW':'您確定要刪除攝像機嗎?'}[language]"
                                            @on-ok="deleteCamera">
                                            <i-button type="error" long>删除摄像机</i-button>
                                        </Poptip>
                                    </i-col>
                                    <i-col span="5">
                                        <i-button type="primary" long :loading="addLoading"
                                            @click="uploadCameraDetailInfoToServer">保存摄像机</i-button>
                                    </i-col>
                                </template>
                            </Row>
                        </div>
                    </div>
                </template>

                <!-- 防区POP -->
                <template v-if="baiduMapInfo.openInfoWindow.type=='isDefenPop'">
                    <div class="mapOpenInfo">
                        <div class="mapSearch" style="width: 550px">
                            <table style="width: 100%;">
                                <tbody>
                                    <tr>
                                        <td style="width: 120px;">
                                            <span class="request">＊</span>
                                            <span class="label"
                                                v-text="{'CN':'公司','EN':'Company','TW':'公司'}[language]"></span>
                                        </td>
                                        <td>
                                            <template>
                                                <i-select :disabled="!functionInfo.isDefense"
                                                    @on-change="getDepartmentList('defensAreaDetailInfo')"
                                                    v-model="defensAreaDetailInfo.companyId" clearable
                                                    :placeholder="{'CN':'请选择','EN':'Please Choose','TW':'請選擇'}[language]">
                                                    <i-option v-for="item in companyList" :value="item.id">
                                                        {{item.companyName}}
                                                    </i-option>
                                                </i-select>
                                            </template>
                                        </td>

                                        <td style="width: 120px;text-align: right;">
                                            <span class="request">＊</span>
                                            <span
                                                v-text="{'CN':'部门','EN':'Superior Department','TW':'部門'}[language]"></span>
                                        </td>
                                        <td>
                                            <template>
                                                <Cascader :disabled="!functionInfo.isDefense" :data="departmentList"
                                                    v-model="defensAreaDetailInfo.deptIds" trigger="click"
                                                    :change-on-select="true"></Cascader>
                                            </template>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <span class="request">＊</span>
                                            <span class="label"
                                                v-text="{'CN':'名称','EN':'Name','TW':'名稱'}[language]"></span>
                                        </td>
                                        <td>
                                            <i-input :disabled="!functionInfo.isDefense"
                                                v-model="defensAreaDetailInfo.areaName" />
                                        </td>

                                        <td style="text-align: right;">
                                            <span class="request">＊</span>
                                            <span class="label"
                                                v-text="{'CN':'编码','EN':'Code','TW':'編碼'}[language]"></span>
                                        </td>
                                        <td>
                                            <i-input :disabled="!functionInfo.isDefense"
                                                v-model="defensAreaDetailInfo.areaCode" />
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <span class="request">＊</span>
                                            <span class="label"
                                                v-text="{'CN':'限速(km/h)','EN':'Speed Limit(m/s)','TW':'限速(m/s)'}[language]"></span>
                                        </td>
                                        <td>
                                            <!-- <i-input v-model="defensAreaDetailInfo.speedLimit" /> -->
                                            <template>
                                                <Input-number :disabled="!functionInfo.isDefense"
                                                    v-model="defensAreaDetailInfo.speedLimit" style="width: 100%">
                                                </Input-number>
                                            </template>
                                        </td>

                                        <td style="text-align: right;">
                                            <span class="label"
                                                v-text="{'CN':'停留时长(s)','EN':'Stay(s)','TW':'停留時長(s)'}[language]"></span>
                                        </td>
                                        <td>
                                            <template>
                                                <Input-number :disabled="!functionInfo.isDefense"
                                                    v-model="defensAreaDetailInfo.staySecond" style="width: 100%">
                                                </Input-number>
                                            </template>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <span class="request">＊</span>
                                            <span class="label"
                                                v-text="{'CN':'允许车辆驾入','EN':'Drive In','TW':'允許車輛駕入'}[language]"></span>
                                        </td>
                                        <td>
                                            <template>
                                                <i-select
                                                    :disabled="!functionInfo.isDefense || !!defensAreaDetailInfo.id"
                                                    v-model="defensAreaDetailInfo.canEnter" clearable
                                                    :placeholder="{'CN':'请选择','EN':'Please Choose','TW':'請選擇'}[language]">
                                                    <template v-for="item in secureAreaLimitTypeList">
                                                        <template v-if="item.type==720||item.type==721||item.type==722">
                                                            <i-option :value="item.type">{{item.name}}</i-option>
                                                        </template>
                                                    </template>
                                                </i-select>
                                            </template>
                                        </td>

                                        <td style="text-align: right;">
                                            <span class="request">＊</span>
                                            <span class="label"
                                                v-text="{'CN':'允许车辆驾出','EN':'Driving Out','TW':'允許車輛駕出'}[language]"></span>
                                        </td>
                                        <td>
                                            <template>
                                                <i-select
                                                    :disabled="!functionInfo.isDefense || !!defensAreaDetailInfo.id"
                                                    v-model="defensAreaDetailInfo.canExit" clearable
                                                    :placeholder="{'CN':'请选择','EN':'Please Choose','TW':'請選擇'}[language]">
                                                    <template v-for="item in secureAreaLimitTypeList">
                                                        <template v-if="item.type==720||item.type==723||item.type==724">
                                                            <i-option :value="item.type">{{item.name}}</i-option>
                                                        </template>
                                                    </template>
                                                </i-select>
                                            </template>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <span class="request">＊</span>
                                            <span class="label"
                                                v-text="{'CN':'允许车辆停留','EN':'Stop','TW':'防區狀態'}[language]"></span>
                                        </td>
                                        <td>
                                            <template>
                                                <i-select
                                                    :disabled="!functionInfo.isDefense || !!defensAreaDetailInfo.id"
                                                    v-model="defensAreaDetailInfo.canStay" clearable
                                                    :placeholder="{'CN':'请选择','EN':'Please Choose','TW':'請選擇'}[language]">
                                                    <template v-for="item in secureAreaLimitTypeList">
                                                        <template v-if="item.type==720||item.type==725||item.type==726">
                                                            <i-option :value="item.type">{{item.name}}</i-option>
                                                        </template>
                                                    </template>
                                                </i-select>
                                            </template>
                                        </td>

                                        <td style="text-align: right;">
                                            <span class="request">＊</span>
                                            <span class="label"
                                                v-text="{'CN':'防区状态','EN':'select layer','TW':'防區狀態'}[language]"></span>
                                        </td>
                                        <td>
                                            <template>
                                                <i-select :disabled="!functionInfo.isDefense"
                                                    @on-change="defensStatuChange(defensAreaDetailInfo, defensAreaDetailInfo.secureStatus)"
                                                    v-model="defensAreaDetailInfo.secureStatus" clearable
                                                    :placeholder="{'CN':'请选择','EN':'Please Choose','TW':'請選擇'}[language]">
                                                    <i-option v-for="item in secureAreaStatusList" :value="item.type">
                                                        {{item.name}}</i-option>
                                                </i-select>
                                            </template>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <span class="label"
                                                v-text="{'CN':'备注','EN':'Remark','TW':'備註'}[language]"></span>
                                        </td>
                                        <td colspan="3">
                                            <i-input :disabled="!functionInfo.isDefense"
                                                v-model="defensAreaDetailInfo.remark" />
                                        </td>
                                    </tr>
                                </tbody>
                            </table>

                            <Row type="flex" justify="start" gutter="10">
                                <i-col span="8"></i-col>
                                <i-col span="4">
                                    <i-button type="default" @click="openInfoWindowClose">关闭弹窗</i-button>
                                </i-col>
                                <template v-if="functionInfo.isDefense">
                                    <template v-if="!!baiduMapInfo.defensList['_' + defensAreaDetailInfo.id]">
                                        <i-col span="4">
                                            <template v-if="!baiduMapInfo.defensList['_' + defensAreaDetailInfo.id]['canEdit']">
                                            <i-button type="warning" @click="editDefense(defensAreaDetailInfo)" @click="openInfoWindowClose">编辑防区</i-button>
                                        </template>
                                            <template v-if="baiduMapInfo.defensList['_' + defensAreaDetailInfo.id]['canEdit']">
                                                <i-button type="warning" @click="editDefense(defensAreaDetailInfo)" @click="openInfoWindowClose">取消编辑</i-button>
                                            </template>
                                        </i-col>
                                    </template>
                                    <i-col span="4">
                                        <Poptip confirm width="200"
                                            :title="{'CN':'您确定删除防区?','EN':'Are You Sure You Want To Delete The Defense Area?','TW':'您確定要刪除防區嗎?'}[language]"
                                            @on-ok="deleteDefensArea">
                                            <i-button type="error" long>删除防区</i-button>
                                        </Poptip>
                                    </i-col>
                                    <i-col span="4">
                                        <i-button type="primary" long :loading="addLoading"
                                            @click="uploadDefensAreaDetailInfoToServer">保存防区</i-button>
                                    </i-col>
                                </template>
                            </Row>
                        </div>
                    </div>
                </template>

            </bm-info-window>

            <!-- 比例尺控件 -->
            <bm-scale anchor="BMAP_ANCHOR_BOTTOM_LEFT" :offset="{width: 10, height: 5}"></bm-scale>
            <!-- 缩放控件 -->
            <bm-navigation anchor="BMAP_ANCHOR_TOP_LEFT" :offset="{width: 5, height: 50}"></bm-navigation>
            <!-- 缩略图控件 -->
            <!-- <bm-overview-map anchor="BMAP_ANCHOR_BOTTOM_RIGHT" :size="{width: 300, height: 200}" :isOpen="true"></bm-overview-map> -->

            <!-- 点聚合 -->
            <bml-marker-clusterer :averageCenter="true" :minClusterSize="2">
                <!-- 摄像机 -->
                <template v-if="baiduMapInfo.layersInfo.isCamera==true">
                    <template v-for="(marker, index) of baiduMapInfo.cameraMarkers">
                        <bm-marker :key="index" :icon="marker.icon" :dragging="true" :position="marker.position"
                            @dragend="dragendCamera(index, $event)" @click="cameraOpenPop(marker, $event)">
                        </bm-marker>
                    </template>
                </template>

                <!-- 车辆 -->
                <template v-if="baiduMapInfo.layersInfo.isVehicle==true">
                    <template v-for="(marker, key) of baiduMapInfo.vehicleMarkers">
                        <bm-marker :key="key" :icon="marker.icon" :position="marker.position"
                            :animation="marker.animation" @mouseover="setVehicleTop(marker, $event)" :top="marker.top"
                            :zIndex="marker.zIndex" @mouseout="cancelVehicleTop(marker, $event)"
                            @click="vehicleOpenPop(marker, $event)">
                        </bm-marker>
                    </template>
                </template>

            </bml-marker-clusterer>

            <!-- 防区 -->
            <template v-if="baiduMapInfo.layersInfo.isDefense==true">
                <template v-for="(polygon, index) in baiduMapInfo.defensList">
                    <bm-polygon :key="index" :path="polygon.paths" stroke-style="polygon.style"
                        :stroke-color="polygon.stroke" :fill-color="polygon.fill" :stroke-weight="3" :editing="polygon.canEdit"
                        @click="showDefensPop(polygon.item, $event)" :clicking="true"
                        @lineupdate="updateDefensPath(polygon.item, $event)">
                    </bm-polygon>
                    <!-- <bm-label @click="showDefensPop(polygon.item, $event)" :content="polygon.item.areaName" :position="polygon.paths[0]" :labelStyle="{color: 'red', fontSize : '12px'}" title="Hover me"/> -->
                </template>
            </template>

            <!-- 绘画防区 -->
            <!-- 折线 -->
            <template v-if="baiduMapInfo.isCloseDefensPath==false">
                <bm-polyline :path="baiduMapInfo.defensPath" stroke-style="dashed" stroke-style="dashed"
                    :stroke-color="defensAreaDetailInfo.stroke" :fill-color="defensAreaDetailInfo.fill"
                    :stroke-weight="3" :editing="baiduMapInfo.defensPathEdit"
                    @click="showDefensPop(defensAreaDetailInfo, $event)"
                    @lineupdate="updateDefensPath(defensAreaDetailInfo, $event)"></bm-polyline>
            </template>
            <!-- 多边形 -->
            <template v-if="baiduMapInfo.isCloseDefensPath==true">
                <bm-polygon :path="baiduMapInfo.defensPath" :stroke-color="defensAreaDetailInfo.stroke"
                    :fill-color="defensAreaDetailInfo.fill" stroke-style="dashed" :stroke-weight="3"
                    :editing="baiduMapInfo.defensPathEdit" @click="showDefensPop(defensAreaDetailInfo, $event)"
                    @lineupdate="updateDefensPath(defensAreaDetailInfo, $event)" />
            </template>

            <!-- 轨迹线 -->
            <template v-if="baiduMapInfo.animationInfo.curveInfo.length>0">
                <bm-polyline :path="baiduMapInfo.animationInfo.curveInfo" stroke-color="blue" :stroke-weight="1">
                </bm-polyline>
            </template>

            <!-- 轨迹点 -->
            <template v-if="baiduMapInfo.animationInfo.pointInfo.length>0">

                <bm-point-collection :points="baiduMapInfo.animationInfo.pointInfo" shape="BMAP_POINT_SHAPE_CIRCLE"
                    color="blue" size="BMAP_POINT_SIZE_SMALL" @click="showTrackPointInfo"></bm-point-collection>

                <!-- <bm-point-collection :points="baiduMapInfo.animationInfo.zeroPointInfo" shape="BMAP_POINT_SHAPE_CIRCLE"
                    color="red" size="BMAP_POINT_SIZE_NORMAL" @click="showTrackPointInfo"></bm-point-collection> -->

                <template v-if="baiduMapInfo.animationInfo.pointInfo.length>5">
                    <bm-marker top="true" :icon="baiduMapInfo.animationInfo.startPoint"
                        :position="baiduMapInfo.animationInfo.pointInfo[0]" @click="showTrackPointInfo">
                    </bm-marker>
                    <bm-marker top="true" :icon="baiduMapInfo.animationInfo.endPoint"
                        :position="baiduMapInfo.animationInfo.pointInfo[baiduMapInfo.animationInfo.pointInfo.length-1]"
                        @click="showTrackPointInfo">
                    </bm-marker>
                </template>
            </template>

            <!-- 运动车辆 -->
            <template v-if="!!baiduMapInfo.animationInfo.moveVehicle">
                <bm-marker top="true" :icon="baiduMapInfo.animationInfo.moveVehicle.icon"
                    :position="baiduMapInfo.animationInfo.moveVehicle.position">
                </bm-marker>
            </template>

        </baidu-map>

        <!-- 范围查询 -->
        <div id="ol-dbClickSearch" class="searchVehicle popupLayer">
            <div class="radar"></div>
        </div>

        <!-- 搜索 -->
        <div class="searchWrap">
            <template>
                <Row type="flex" justify="start" :gutter="5">
                    <i-col span="9">
                        <div>
                            <template>
                                <i-input v-model="vehiclePositonPageInfo.licenseNumber"
                                    @on-focus="showModal('isSearch')" size="large" search enter-button
                                    @on-search="getAllVehiclePositonList"
                                    :placeholder="{'CN':'车牌号','EN':'Vehicle Code','TW':'車輛編碼'}[language]" />
                            </template>
                        </div>
                    </i-col>
                    <i-col span="15">
                        <template>
                            <div style="display: inline-block">
                                <i-button @click="refresh" size="large" type="info"><span>
                                        <Icon size="20" type="ios-refresh-circle" />
                                    </span>{{{'CN':'刷新','EN':'Refresh Page','TW':'刷新頁面'}[language]}}</i-button>
                            </div>
                        </template>
                        <template>
                            <div style="display: inline-block">
                                <i-button @click="resetView" size="large" type="warning"><span>
                                        <Icon size="20" type="ios-refresh-circle-outline" />
                                    </span>{{{'CN':'重置视图','EN':'Reset View','TW':'重置視圖'}[language]}}</i-button>
                            </div>
                        </template>
                    </i-col>
                </Row>
            </template>
        </div>

        <!-- 菜单 -->
        <div class="menuWrap">
            <template>
                <i-menu mode="horizontal">
                    <template v-if="functionInfo.isSearch">
                        <menu-item name="1">
                            <div @click="showModal('isSearch')">
                                <span class="icon">
                                    <Icon type="ios-search-outline" /></span>
                                <span class="label"
                                    v-text="{'CN':'车辆实时查询','EN':'Vehicle Search','TW':'車輛实时查詢'}[language]"></span>
                            </div>
                        </menu-item>
                    </template>
                    <template v-if="functionInfo.isTrack">
                        <menu-item name="3">
                            <div @click="showModal('isHistory')">
                                <span class="icon">
                                    <Icon type="ios-git-branch" /></span>
                                <span class="label"
                                    v-text="{'CN':'历史轨迹','EN':'Historical Track','TW':'歷史軌跡'}[language]"></span>
                            </div>
                        </menu-item>
                    </template>
                    <template v-if="functionInfo.isDefense">
                        <menu-item name="4">
                            <div @click="showModal('isDefense')">
                                <span class="icon">
                                    <Icon type="ios-qr-scanner" /></span>
                                <span class="label"
                                    v-text="{'CN':'防区管理','EN':'Defense Area Management','TW':'防區管理'}[language]"></span>
                            </div>
                        </menu-item>
                    </template>
                    <template v-if="functionInfo.isCamera">
                        <menu-item name="5">
                            <div @click="showModal('isCamera')">
                                <span class="icon">
                                    <Icon type="ios-videocam-outline" /></span>
                                <span class="label"
                                    v-text="{'CN':'摄像机管理','EN':'Camera Management','TW':'攝像機管理'}[language]"></span>
                            </div>
                        </menu-item>
                    </template>
                    <menu-item name="6">
                        <div @click="showModal('isLayer')">
                            <span class="icon">
                                <Icon type="ios-albums-outline" /></span>
                            <span class="label"
                                v-text="{'CN':'图层控制','EN':'Layer Control','TW':'圖層控制'}[language]"></span>
                        </div>
                    </menu-item>
                </i-menu>
            </template>
        </div>

        <!-- 历史轨迹 -->
        <template v-if="functionInfo.isTrack">
            <Modal v-model="modal.isHistory" :styles="{top: '100px', left: '50px', position: 'absolute'}" width="30"
                footer-hide="true" :mask="false" class-name="mapModal">
                <div slot="header" class="modalTitle">
                    <span class="icon">
                        <Icon type="ios-git-branch" /></span>
                    <span class="label" v-text="{'CN':'历史轨迹','EN':'Historical Track','TW':'歷史軌跡'}[language]"></span>
                </div>
                <div class="mapSearch">
                    <table>
                        <tbody>
                            <tr>
                                <td style="width: 90px;">
                                    <span class="label"
                                        v-text="{'CN':'车辆编码','EN':'Vehicle Code','TW':'車輛编码'}[language]"></span>
                                </td>
                                <td>
                                    <template>
                                        <i-input v-model="singleVehiclePageInfo.licenseNumber"
                                            :placeholder="{'CN':'请输入编码','EN':'Code','TW':'請輸入編碼'}[language]"
                                            style="width: 100%"></i-input>
                                    </template>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <span class="label"
                                        v-text="{'CN':'开始时间','EN':'Start Date','TW':'開始時間'}[language]"></span>
                                </td>
                                <td>
                                    <template>
                                        <div style="display: inline-block; width: 48%;">
                                            <date-picker :options="disabledDate" :editable="false"
                                                :value="dateTimeInfo.beginDate" @on-change="getBeginDate"
                                                style="width: 100%;" type="date" format="yyyy-MM-dd" :confirm="false"
                                                :placeholder="{'CN':'日期','EN':'Please Choose','TW':'請選擇'}[language]">
                                            </date-picker>
                                        </div>
                                    </template>
                                    <template>
                                        <div style="display: inline-block; width: 48%;">
                                            <time-picker :editable="false" v-model="dateTimeInfo.beginTime"
                                                @on-change="getBeginTime" type="time" placement="bottom-end"
                                                placeholder="时间" style="width: 100%;"></time-picker>
                                        </div>
                                    </template>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <span class="label"
                                        v-text="{'CN':'结束时间','EN':'Start Date','TW':'開始時間'}[language]"></span>
                                </td>
                                <td>
                                    <template>
                                        <div style="display: inline-block; width: 48%;">
                                            <date-picker :options="disabledDate" :editable="false"
                                                :value="dateTimeInfo.endDate" @on-change="getEndDate"
                                                style="width: 100%;" type="date" format="yyyy-MM-dd" :confirm="false"
                                                :placeholder="{'CN':'日期','EN':'Please Choose','TW':'請選擇'}[language]">
                                            </date-picker>
                                        </div>
                                    </template>
                                    <template>
                                        <div style="display: inline-block; width: 48%;">
                                            <time-picker :editable="false" v-model="dateTimeInfo.endTime"
                                                @on-change="getEndTime" type="time" placement="bottom-end"
                                                placeholder="时间" style="width: 100%;"></time-picker>
                                        </div>
                                    </template>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <span class="label"
                                        v-text="{'CN':'回放速度','EN':'Speed','TW':'回放速度'}[language]"></span>
                                </td>
                                <td>
                                    <Slider v-model="baiduMapInfo.animationInfo.speed" :min="60" :max="200"
                                        :show-input="true" input-size="small"></Slider>
                                </td>
                            </tr>
                            <tr>
                                <td></td>
                                <td>
                                    <template>
                                        <div class="btnList">
                                            <i-button size="small" @click="getSingleVehicleTrackByBaidu"
                                                style="width: 35%;" type="primary" icon="ios-search-outline">
                                                {{{'CN':'查轨迹','EN':'Track','TW':'查軌跡'}[language]}}</i-button>
                                            <i-button size="small" @click="playBackByBaidu" style="width: 30%;"
                                                type="warning" icon="ios-git-branch">
                                                {{{'CN':'回放','EN':'Replay','TW':'回放'}[language]}}</i-button>
                                            <i-button size="small" @click="clearTrackByBaidu" style="width: 30%;"
                                                type="default" icon="ios-trash-outline">
                                                {{{'CN':'清除','EN':'Clear Track','TW':'清除'}[language]}}</i-button>
                                        </div>
                                    </template>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <template v-if="vehicleItemPop">
                        <div style="padding: 10px; background-color: #f8f8f9;">
                            <p>{{{'CN':'公司名称','EN':'Company','TW':'公司名稱'}[language]}}：{{vehicleItemPop.companyName}}</p>
                            <p>{{{'CN':'部门名称','EN':'Department','TW':'部門名稱'}[language]}}：{{vehicleItemPop.deptName}}</p>
                            <p v-if="vehicleItemPop.address">车辆位置：{{vehicleItemPop.address}}</p>
                            <p>{{{'CN':'车辆编码','EN':'Code','TW':'車輛編碼'}[language]}}：{{vehicleItemPop.vehicleCode}}</p>
                            <template v-if="vehicleItemPop.licenseNumber">
                                <p>
                                    {{{'CN':'车 牌 号','EN':'Plate No.','TW':'車牌號'}[language]}}：{{vehicleItemPop.licenseNumber}}
                                </p>
                            </template>
                            <p>{{{'CN':'车辆名称','EN':'Name','TW':'車輛名稱'}[language]}}：{{vehicleItemPop.vehicleName}}</p>
                            <p>{{{'CN':'车辆类型','EN':'Type','TW':'車輛類型'}[language]}}：{{vehicleItemPop.vehicleTypeName}}
                            </p>
                            <p>{{{'CN':'终端设备','EN':'Termina','TW':'終端設備'}[language]}}：{{vehicleItemPop.gpsDeviceCode}}
                            </p>
                            <p>{{{'CN':'车辆速度','EN':'Speed','TW':'車輛速度'}[language]}}：{{vehicleItemPop.speed}} 公里/小时</p>
                            <p>最新GPS时间：<span><span>{{vehicleItemPop.lastGpsTime}}</span></span></p>
                            <p>{{{'CN':'运动状态','EN':'State','TW':'車輛狀態'}[language]}}：<span
                                    :class="'_'+vehicleItemPop.vehicleStatus"><span>{{vehicleItemPop.vehicleStatusName}}</span></span>
                            </p>
                            <template v-if="functionInfo.isViewVideo">
                                <template v-if="vehicleItemPop.providerId<100">
                                    <template
                                        v-if="vehicleItemPop.vehicleStatus==401||vehicleItemPop.vehicleStatus==402">
                                        <p style="padding: 3px 0;">视&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;频：
                                            <i-button size="small" @click="showLiveVideo(vehicleItemPop, 0)"
                                                type="primary" icon="md-play">
                                                {{{'CN':'实时监控','EN':'Video','TW':'視頻'}[language]}}</i-button>
                                            <template v-if="vehicleItemPop.providerId!=2">
                                                <i-button size="small" @click="showLiveVideo(vehicleItemPop, 1)"
                                                    icon="md-play">{{{'CN':'视频回放','EN':'Video','TW':'視頻'}[language]}}
                                                </i-button>
                                            </template>
                                        </p>
                                    </template>
                                </template>
                            </template>
                        </div>
                    </template>
                </div>
            </Modal>
        </template>

        <!-- 防区管理 -->
        <template>
            <Modal v-model="modal.isDefense" :styles="{top: '100px', left: '50px', position: 'absolute'}" width="30"
                footer-hide="true" :mask="false" class-name="mapModal">
                <div slot="header" class="modalTitle">
                    <span class="icon">
                        <Icon type="ios-qr-scanner" /></span>
                    <span class="label"
                        v-text="{'CN':'防区管理','EN':'Defense Area Management','TW':'防區管理'}[language]"></span>
                </div>
                <div class="mapSearch">
                    <table>
                        <tbody>
                            <tr>
                                <td style="width: 60px;">
                                    <span class="label">防区名字</span>
                                </td>
                                <td>
                                    <i-input v-model="defensPageInfo.areaName" clearable @on-change="getDefensAreaList(true)"
                                    :placeholder="{'CN':'请输入防区名字','EN':'Plate No.','TW':'請輸入車牌號'}[language]">
                                    </i-input>
                                </td>
                            </tr>
                            <tr>
                                <td style="width: 60px;">
                                    <span class="label"
                                        v-text="{'CN':'防区状态','EN':'select layer','TW':'防區狀態'}[language]"></span>
                                </td>
                                <td style="width: 61%;">
                                    <template>
                                        <i-select @on-change="getDefensAreaList(true)"
                                            v-model="defensPageInfo.secureStatus" clearable
                                            :placeholder="{'CN':'请选择','EN':'Please Choose','TW':'請選擇'}[language]">
                                            <i-option value="0">{{{'CN':'全部','EN':'All','TW':'全部'}[language]}}
                                            </i-option>
                                            <i-option v-for="item in secureAreaStatusList" :value="item.type">
                                                {{item.name}}</i-option>
                                        </i-select>
                                    </template>
                                </td>
                                <template v-if="functionInfo.isDefense">
                                    <td>
                                        <template v-if="!isAddDefensAction">
                                            <div class="btnList">
                                                <i-button @click="addDefensAction" long size="small" type="primary"
                                                    icon="ios-add-circle-outline">
                                                    {{{'CN':'新增','EN':'Add','TW':'新增'}[language]}}</i-button>
                                            </div>
                                        </template>
                                        <template v-if="isAddDefensAction">
                                            <div class="btnList">
                                                <i-button @click="deleteDefensAction" long size="small" type="warning"
                                                    icon="ios-close-circle-outline">结束编辑</i-button>
                                            </div>
                                        </template>
                                    </td>
                                </template>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <!-- <p class="tip" v-text="{'CN':'注:表格仅显示当前视域内数据','EN':'Notes:The table shows only the data in the current view.','TW':'注:表格僅顯示當前視域內數據'}[language]"></p> -->
                <div class="modifiedWrap">
                    <div class="tableWrap">
                        <template>
                            <i-table height="300" @on-row-click="setDefensRowData" highlight-row
                                :columns="defensColumns" :data="defensDatas" stripe="true" size="small"></i-table>
                        </template>
                    </div>

                    <div class="pageWrap">
                        <template>
                            <Page :total="defensPageInfo.count" @on-change="defensPageSizeChange" :page-size="20"
                                show-sizer show-total />
                        </template>
                    </div>
                </div>
            </Modal>

        </template>

        <!-- 摄像机管理 -->
        <template>
            <Modal v-model="modal.isCamera" :styles="{top: '100px', left: '50px', position: 'absolute'}" width="35"
                footer-hide="true" :mask="false" @on-visible-change="isAddCameraAction=false" class-name="mapModal">
                <div slot="header" class="modalTitle">
                    <span class="icon">
                        <Icon type="ios-videocam-outline" /></span>
                    <span class="label" v-text="{'CN':'摄像机管理','EN':'Camera Management','TW':'攝像機管理'}[language]"></span>
                </div>
                <div class="mapSearch">
                    <table>
                        <tbody>
                            <tr>
                                <td style="width: 60px;">
                                    <span class="label"
                                        v-text="{'CN':'监控状态','EN':'State','TW':'監控狀態'}[language]"></span>
                                </td>
                                <td style="width: 61%;">
                                    <template>
                                        <i-select @on-change="getCameraList(true)"
                                            v-model="cameraPageInfo.monitorStatus" clearable
                                            :placeholder="{'CN':'请选择','EN':'Please Choose','TW':'請選擇'}[language]">
                                            <i-option value="0">{{{'CN':'全部','EN':'All','TW':'全部'}[language]}}
                                            </i-option>
                                            <i-option v-for="item in monitorStatusList" :value="item.type">{{item.name}}
                                            </i-option>
                                        </i-select>
                                    </template>
                                </td>
                                <template v-if="functionInfo.isCamera==true">
                                    <td>
                                        <template v-if="!isAddCameraAction">
                                            <div class="btnList">
                                                <i-button @click="isAddCameraAction=true" long size="small"
                                                    type="primary" icon="ios-add-circle-outline">
                                                    {{{'CN':'新增','EN':'Add','TW':'新增'}[language]}}</i-button>
                                            </div>
                                        </template>
                                        <template v-if="isAddCameraAction">
                                            <div class="btnList">
                                                <i-button @click="isAddCameraAction=false" long size="small"
                                                    type="warning" icon="ios-close-circle-outline">
                                                    {{{'CN':'取消新增','EN':'cancel New','TW':'取消新增'}[language]}}</i-button>
                                            </div>
                                        </template>
                                    </td>
                                </template>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div class="modifiedWrap">
                    <div class="tableWrap">
                        <template>
                            <i-table @on-row-click="setCameraRowData" height="300" highlight-row
                                :columns="cameraColumns" :data="camersDatas" stripe="true" size="small"></i-table>
                        </template>
                    </div>

                    <div class="pageWrap">
                        <template>
                            <Page :total="cameraPageInfo.count" @on-change="cameraPageSizeChange" :page-size="20"
                                show-sizer show-total />
                        </template>
                    </div>
                </div>
            </Modal>

        </template>

        <!-- 图层控制 -->
        <template>
            <Modal value="true" :styles="{top: '90px', right: '0', position: 'absolute'}" width="9" footer-hide="true"
                :mask="false" :closable="false" class-name="mapModal">
                <!-- <div slot="header" class="modalTitle">
                    <span class="icon">
                        <Icon type="ios-albums-outline" /></span>
                    <span class="label" v-text="{'CN':'图层控制','EN':'Layer Control','TW':'圖層控制'}[language]"></span>
                </div> -->

                <div class="modifiedWrap">
                    <Row type="flex" justify="start" class-name="layerWrap">
                        <i-col span="24" class-name="layerMenu">
                            <template>
                                <div style="padding: 10px 20px 0 20px;">
                                    <radio-group v-model="baiduMapInfo.mapType" size="large" style="width: 100%;"
                                        vertical>
                                        <Radio label="BMAP_NORMAL_MAP">
                                            <span class="label">矢量图</span>
                                        </Radio>
                                        <Radio label="BMAP_HYBRID_MAP">
                                            <span class="label">卫星图</span>
                                        </Radio>
                                    </radio-group>
                                </div>
                                <checkbox-group v-model="layerControl" size="large" style="width: 100%;">
                                    <i-menu theme="light" mode="vertical" width="auto">
                                        <!-- <template v-if="isShenZhen">
                                            <menu-item name="background">
                                                <Checkbox label="background">
                                                    <span class="label"
                                                        v-text="{'CN':'背景','EN':'Background','TW':'背景'}[language]"></span>
                                                </Checkbox>
                                            </menu-item>
                                        </template> -->
                                        <!-- <menu-item name="satellite">
                                            <Checkbox label="satellite">
                                                <span class="label">卫星图</span>
                                            </Checkbox>
                                        </menu-item> -->
                                        <menu-item name="vehicle">
                                            <Checkbox label="vehicle">
                                                <span class="label">车辆图层</span>
                                            </Checkbox>
                                        </menu-item>
                                        <!-- <menu-item name="seat">
                                            <Checkbox label="seat">
                                                <span class="label">机位</span>
                                            </Checkbox>
                                        </menu-item> -->
                                        <template v-if="functionInfo.isCamera">
                                            <menu-item name="camera">
                                                <Checkbox label="camera">
                                                    <span class="label">摄像机图层</span>
                                                </Checkbox>
                                            </menu-item>
                                        </template>
                                        <template v-if="functionInfo.isCamera">
                                            <menu-item name="defens">
                                                <Checkbox label="defens">
                                                    <span class="label">防区图层</span>
                                                </Checkbox>
                                            </menu-item>
                                        </template>
                                    </i-menu>
                                </checkbox-group>
                            </template>
                        </i-col>
                    </Row>
                </div>
            </Modal>
        </template>

        <!-- 告警管理 -->
        <template>
            <Modal v-model="modal.isAlarm" :styles="{top: '100px', left: '50px', position: 'absolute'}" width="30"
                footer-hide="true" :mask="false" class-name="mapModal">
                <div slot="header" class="modalTitle">
                    <span class="icon">
                        <Icon type="ios-alert-outline" /></span>
                    <span class="label" v-text="{'CN':'告警管理','EN':'Alarm Management','TW':'告警管理'}[language]"></span>
                </div>
                <div class="mapSearch">
                    <table>
                        <tbody>
                            <tr>
                                <td>
                                    <span class="label"
                                        v-text="{'CN':'告警信息','EN':'Alarm Info','TW':'告警信息'}[language]"></span>
                                </td>
                                <td>
                                    <template>
                                        <i-input
                                            :placeholder="{'CN':'请输入防区名','EN':'Defense Name','TW':'請輸入防區名'}[language]"
                                            style="width: 100%"></i-input>
                                    </template>
                                </td>
                                <td>
                                    <template>
                                        <div class="btnList">
                                            <i-button size="small" type="primary" icon="ios-search-outline">
                                                {{{'CN':'查询','EN':'Search','TW':'查詢'}[language]}}</i-button>
                                            <i-button size="small" type="info" icon="ios-open-outline">
                                                {{{'CN':'导出','EN':'Export','TW':'導出'}[language]}}</i-button>
                                        </div>
                                    </template>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div class="modifiedWrap">
                    <div class="tableWrap">
                        <template>
                            <i-table height="300" highlight-row :columns="vehicleColumns" :data="vehicleDatas"
                                stripe="true" size="small"></i-table>
                        </template>
                    </div>

                    <div class="pageWrap">
                        <template>
                            <Page :total="100" show-total />
                        </template>
                    </div>
                </div>
            </Modal>
        </template>

        <!-- 车辆查询 -->
        <template v-if="functionInfo.isSearch">
            <Modal v-model="modal.isSearch" :styles="{top: '100px', left: '50px', position: 'absolute'}" width="500"
                footer-hide="true" :mask="false" class-name="mapModal">
                <div slot="header" class="modalTitle">
                    <span class="icon">
                        <Icon type="ios-search-outline" /></span>
                    <span class="label"
                        v-text="{'CN':'车辆实时查询','EN':'Vehicle RealTime Search','TW':'車輛實時查詢'}[language]"></span>
                    <span class="areaTip">双击地图可实时范围查询</span>
                    &nbsp;&nbsp;&nbsp;<i-button @click="cancelAreaSearch" size="small" icon="md-refresh-circle">
                        {{{'CN':'取消范围查询','EN':'Cancel Range Search','TW':'取消範圍查詢'}[language]}}</i-button>
                </div>
                <div class="mapSearch">
                    <table>
                        <tbody>

                            <tr>
                                <td style="width: 80px; text-align: right;">
                                    <span class="label"
                                        v-text="{'CN':'车牌号','EN':'Plate No.','TW':'車牌號'}[language]"></span>
                                </td>
                                <td>
                                    <i-input v-model="vehiclePositonPageInfo.licenseNumber"
                                        :placeholder="{'CN':'请输入车牌号','EN':'Plate No.','TW':'請輸入車牌號'}[language]">
                                    </i-input>
                                </td>
                                <td style="width: 80px; text-align: right;">
                                    <span class="label"
                                        v-text="{'CN':'车辆类型','EN':'Vehicle Type','TW':'車輛類型'}[language]"></span>
                                </td>
                                <td>
                                    <template>
                                        <i-select v-model="vehiclePositonPageInfo.vehicleTypeId" clearable
                                            :placeholder="{'CN':'请选择','EN':'Please Choose','TW':'請選擇'}[language]">
                                            <i-option v-text="{'CN':'全部','EN':'All','TW':'全部'}[language]"></i-option>
                                            <i-option v-for="item in vehicleTypeList" :value="item.type">{{item.name}}
                                            </i-option>
                                        </i-select>
                                    </template>
                                </td>

                            </tr>

                            <tr>
                                <td style="text-align: right;">
                                    <span class="label"
                                        v-text="{'CN':'运动状态','EN':'Vehicle Statu','TW':'車輛狀態'}[language]"></span>
                                </td>
                                <td>
                                    <template>
                                        <i-select v-model="vehiclePositonPageInfo.vehicleStatus" clearable
                                            :placeholder="{'CN':'请选择','EN':'Please Choose','TW':'請選擇'}[language]">
                                            <i-option v-text="{'CN':'全部','EN':'All','TW':'全部'}[language]"></i-option>
                                            <template v-for="item in terminalStatusList">
                                                <!-- 401、402、406 -->
                                                <template
                                                    v-if="item.type==401||item.type==402||item.type==403||item.type==406">
                                                    <i-option :value="item.type">{{item.name}}</i-option>
                                                </template>
                                            </template>
                                        </i-select>
                                    </template>
                                </td>
                                <td style="text-align: right;">
                                    <span class="label"
                                        v-text="{'CN':'使用状态','EN':'Vehicle Statu','TW':'車輛狀態'}[language]"></span>
                                </td>
                                <td>
                                    <template>
                                        <i-select v-model="vehiclePositonPageInfo.useStatus" clearable
                                            :placeholder="{'CN':'请选择','EN':'Please Choose','TW':'請選擇'}[language]">
                                            <i-option v-text="{'CN':'全部','EN':'All','TW':'全部'}[language]"></i-option>
                                            <template v-for="item in vehicleUseStatusList">
                                                <i-option :value="item.type">{{item.name}}</i-option>
                                            </template>
                                        </i-select>
                                    </template>
                                </td>
                            </tr>

                            <tr>
                                <td style="text-align: right;">
                                    <span class="label"
                                        v-text="{'CN':'半径范围(米)','EN':'Radius','TW':'半徑範圍'}[language]"></span>
                                </td>
                                <td>
                                    <input-number :min="0" :formatter="value => `${value}`"
                                        :parser="value => value.replace('米', '')" v-model="vehiclePositonPageInfo.span"
                                        placeholder="请输入半径(单位/米)" style="width: 100%;"></input-number>
                                    <!-- <i-input v-model="vehiclePositonPageInfo.span" :placeholder="{'CN':'请输入半径(单位/米)','EN':'Radius(unit/m)','TW':'請輸入半徑(單位/米)'}[language]"></i-input> -->
                                </td>
                                <td style="text-align: right;">
                                    <span class="label"
                                        v-text="{'CN':'坐标原点','EN':'Coordinate','TW':'座標原點'}[language]"></span>
                                </td>
                                <td>
                                    <i-input v-model="vehiclePositonPageInfo.centerPosition"
                                        :placeholder="{'CN':'格式:113.8077, 22.6286','EN':'Format:113.8077, 22.6286','TW':'格式:113.8077, 22.6286'}[language]">
                                    </i-input>
                                </td>
                            </tr>

                            <tr>
                                <td style="text-align: right;">
                                    <span class="label"
                                        v-text="{'CN':'车辆颜色','EN':'Vehicle Color','TW':'車輛顔色'}[language]"></span>
                                </td>
                                <td>
                                    <template>
                                        <i-select v-model="vehiclePositonPageInfo.vehicleColorId" clearable
                                            :placeholder="{'CN':'请选择','EN':'Please Choose','TW':'請選擇'}[language]">
                                            <i-option v-text="{'CN':'全部','EN':'All','TW':'全部'}[language]"></i-option>
                                            <i-option v-for="item in vehicleColorList" :value="item.type">{{item.name}}
                                            </i-option>
                                        </i-select>
                                    </template>
                                </td>
                                <td style="text-align: right;">
                                    <span class="label"
                                        v-text="{'CN':'车辆品牌','EN':'Brand','TW':'車輛品牌'}[language]"></span>
                                </td>
                                <td>
                                    <template>
                                        <i-select v-model="vehiclePositonPageInfo.vehicleBrandId" clearable
                                            :placeholder="{'CN':'请选择','EN':'Please Choose','TW':'請選擇'}[language]">
                                            <i-option v-text="{'CN':'全部','EN':'All','TW':'全部'}[language]"></i-option>
                                            <i-option v-for="item in vehicleBrandList" :value="item.type">{{item.name}}
                                            </i-option>
                                        </i-select>
                                    </template>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div class="modifiedWrap">
                    <div class="tableWrap">
                        <template>
                            <!--   showRowDataPosition :loading="isSearchLoading" -->
                            <i-table height="250" @on-row-click="showPositionByBaidu" 
                                highlight-row :columns="searchColumns" :data="searchDatas" stripe="true" size="small">
                                <!-- <template slot-scope="{row, index}" slot="action">
                                <template v-if="row.licenseNumber && vehiclePositionList[index]['providerId']<100">
                                    <i-button size="small" type="primary" @click="showLiveVideo(row.licenseNumber, vehiclePositionList[index]['providerId'])" style="width: 40px;">视频</i-button>
                                </template>
                                <template v-else>
                                    <i-button size="small">详情</i-button>
                                </template>
                            </template> -->
                            </i-table>
                        </template>
                    </div>
                    <div class="pageWrap">
                        <template>
                            <p style="text-align: center; font-size: 14px;">
                                {{{'CN':'实时车辆','EN':'RealTime Vehicle','TW':'實時車輛'}[language]}}：<span
                                    style="font-weight: bolder; padding: 0 10px 0 0; font-size: 20px; color: #2D8CF0;">{{vehiclePositonPageInfo.count}}</span>{{{'CN':'辆','EN':'Car','TW':'輛'}[language]}}
                            </p>
                        </template>
                    </div>
                </div>
            </Modal>
        </template>

        <template v-if="!!vehiclePositonPageInfo.centerPosition">
            <div class="eareFind">
                <table style="width: 100%;">
                    <tr>
                        <td>
                            <p class="label"><span>坐标: {{vehiclePositonPageInfo.centerPosition}}</span></p>
                            <p class="label"><span>半径范围: {{vehiclePositonPageInfo.span}}米</span></p>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <i-button @click="cancelAreaSearch" type="primary" size="small" icon="md-refresh-circle">
                                取消范围查询</i-button>
                        </td>
                    </tr>
                </table>
            </div>
        </template>

    </div>

    <script src="/airport/assets/js/LAB.min.js?v=3423841237481237"></script>
    <script src="/airport/assets/vender/radar/radar.min.js?v=4123471829347"></script>
    <script src="/airport/assets/js/baiduMap.min.js?v=123413"></script>
    <script src="/airport/assets/js/gcoord.min.js?v=123413"></script>
    <script>
        loadScript(MODUL + "module/baiduMap/maps.min.js");
    </script>
</body>

</html>