(function(){var e,a=utility.getLocalStorage("language"),i=(utility.getLocalStorage("userInfo"),new Vue({el:"#js-vue",data:{language:a?a.language:"CN",isTableLoading:!0,isShowModal:!1,isShowTerminal:!1,isModalLoading:!0,modalTitle:"",tableHeight:(e=$(".tableContainer").height(),e-100),pageInfo:{count:0,pageNum:1,pageSize:20},timeDefensTableList:[],msgTableList:[],msgColumList:[{type:"index",width:60,title:"序号",align:"center"},{title:{CN:"防区",EN:"Defens",TW:"防區"}[a.language],key:"areaName"},{title:{CN:"防区编码",EN:"Defens Code",TW:"防區編碼"}[a.language],key:"areaCode"},{title:{CN:"车辆",EN:"Vehicle Name",TW:"車輛"}[a.language],key:"vehicleName"},{title:{CN:"车辆编码",EN:"Vehicle Code",TW:"車輛編碼"}[a.language],key:"vehicleCode"},{title:{CN:"状态",EN:"State",TW:"狀態"}[a.language],key:"crossTypeName"},{title:{CN:"时间",EN:"Time",TW:"時間"}[a.language],key:"crossTime",width:150},{title:{CN:"坐标位置",EN:"Coordinate",TW:"座標位置"}[a.language],key:"currPosition",width:250,render:function(e,a){var t=JSON.parse(i.msgTableList[a.index].currPosition).coordinates.join(",");return e("div",t)}}]},watch:{},methods:{refresh:function(){var e=this;window.location.href=window.location.href,0==e.isTableLoading&&(e.isTableLoading=!0,setTimeout(function(){e.isTableLoading=!1},3e3))},pageSizeChange:function(e){var a=this;a.pageInfo.pageNum=parseInt(e,10),setTimeout(function(){a.getCrossAreaList(!1)},200)},pageRowChange:function(e){var a=this;a.pageInfo.pageSize=parseInt(e,10),setTimeout(function(){a.getCrossAreaList(!0)},200)},getCrossAreaList:function(e){var a=this;a.msgTableList=[],1==e&&(a.pageInfo.pageNum=1,a.pageInfo.count=0),utility.interactWithServer({url:CONFIG.HOST+CONFIG.SERVICE.vehicleService+"?action="+CONFIG.ACTION.getCrossAreaList,actionUrl:CONFIG.SERVICE.vehicleService,dataObj:{pageNum:a.pageInfo.pageNum,pageSize:a.pageInfo.pageSize},beforeSendCallback:function(){a.isTableLoading=!0},completeCallback:function(){a.isTableLoading=!1},successCallback:function(e){200==e.code&&(a.pageInfo.count=e.count,a.msgTableList=e.data)}})}},created:function(){var e=this;utility.isLogin(!1),setTimeout(function(){e.getCrossAreaList()},500)}}))})();