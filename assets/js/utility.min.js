window.utility=function(a){return a.getQueryParams=function(a){for(var b=a?a.slice(a.indexOf("?")+1):0<location.search.length?location.search.substring(1):"",c={},d=b.split("&"),e=null,f=null,g=null,h=0,j=d.length;h<j;h++)e=d[h].split("="),f=e[0],g=e[1],c[f]=g;return c},a.setcookie=function(a,b){var c=new Date;c.setTime(c.getTime()+2592000000),document.cookie=a+"="+escape(b)+";expires="+c.toGMTString()},a.getcookie=function(a){var b=document.cookie.match(new RegExp("(^| )"+a+"=([^;]*)(;|$)"));return null==b?"":b[2]},a.delcookie=function(a){var b=new Date;b.setTime(b.getTime()-1);var c=this.getcookie(a);null!=c&&(document.cookie=a+"="+c+";expires="+b.toGMTString())},a.setSessionStorage=function(a,b){window.sessionStorage.setItem(a,JSON.stringify(b))},a.getSessionStorage=function(a){return JSON.parse(window.sessionStorage.getItem(a))},a.cleanSessionStorage=function(){window.sessionStorage.clear()},a.setLocalStorage=function(a,b){window.localStorage.setItem(a,JSON.stringify(b))},a.getLocalStorage=function(a){return JSON.parse(window.localStorage.getItem(a))},a.cleanLocalStorage=function(){window.localStorage.clear()},a.checkLen=function(a,b){return!!(a.length<=b)},a.checkName=function(a){return!!a.match(/[\u4E00-\u9FA5]{2,5}(?:Â·[\u4E00-\u9FA5]{2,5})*/)},a.checkPhone=function(a){return!!a.match(/^(13|14|15|17|18)[0-9]{8}[0-9]$/)},a.checkPass=function(a){return!!a.match(/^(?=.*[a-zA-Z])(?=.*[0-9])[a-zA-Z0-9]{6,16}$/)},a.checkNumber=function(a){return!!a.match(/^(1[0-2]|0?[1-9])(0?[1-9]|[1-2][0-9]|3[0-1])$/)},a.checkIdentityNo=function(a){var b=/^[1-9]\d{7}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}$/,c=/^[1-9]\d{5}[1-9]\d{3}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}([0-9]|X)$/,d=!1;return 15==a.length&&a.match(b)?d=!0:18==a.length&&a.match(c)&&(d=!0),d},a.checkIntNum=function(a){return!!a.match(/^[1-9]\d*$/)},a.checkBlankNum=function(a){return!!a.match(/^(\d{16}|\d{19})$/)},a.getDateDetailInfo=function(a){var b=a?new Date(a):new Date,c=b.getFullYear(),d=b.getMonth(),e=b.getDate(),f=b.getDay(),g=b.getHours(),h=b.getMinutes(),i=b.getSeconds();return{year:c,month:10>d+1?"0"+(d+1):d+1,date:10>e?"0"+e:e,hour:10>g?"0"+g:g,min:10>h?"0"+h:h,second:10>i?"0"+i:i,weekDay:["\u661F\u671F\u65E5","\u661F\u671F\u4E00","\u661F\u671F\u4E8C","\u661F\u671F\u4E09","\u661F\u671F\u56DB","\u661F\u671F\u4E94","\u661F\u671F\u516D"][f]}},a.timeDiff=function(a,b){var c=Math.floor,d=a?new Date(a.replace(/\-/g,"/")).getTime():new Date().getTime(),e=b?new Date(b.replace(/\-/g,"/")).getTime():new Date().getTime(),f=Math.abs(d-e),g=c(f/86400000),h=f%86400000,i=c(h/3600000),j=h%3600000,k=c(j/60000),l=Math.round(j%60000/1e3);return{isOver:d<e,day:g,hour:i,minute:k,second:l}},a.convertImgToBase64=function(a,b,c){var d=document.createElement("CANVAS"),e=d.getContext("2d"),f=new Image;f.crossOrigin="Anonymous",f.onload=function(){d.height=f.height,d.width=f.width,e.drawImage(f,0,0);var a=d.toDataURL(c||"image/png");b.call(this,a),d=null},f.src=a},a.readAsDataURL=function(a){"undified"==typeof FileReader&&alert("\u60A8\u8001\u7684\u6D4F\u89C8\u5668\u4E0D\u884C\u4E86\uFF01");var b=new FileReader;b.readAsDataURL(a.file),b.onload=function(){a.readSuccess&&a.readSuccess(this.result)},b.oneror=function(){a.readError&&a.readError()}},a.interactWithServer=function(b){var c=Date.parse(new Date),d=a.getLocalStorage("userInfo"),e=a.getLocalStorage("isPhone"),f=a.getLocalStorage("language")?{CN:"cn",EN:"en",TW:"hk"}[a.getLocalStorage("language").language]:"cn";$.ajax({dataType:"json",url:b.url,async:b.async||!0,type:b.method||"POST",timeout:b.timeout||2e4,contentType:b.contentType||"application/x-www-form-urlencoded",data:b.dataObj||{},headers:b.headers||{version:100,timestamp:c,languageVer:f,appType:b.appType||2,actionUrl:b.actionUrl||"",userId:d?d.id:"",userToken:d?d.userToken:"",signStr:md5((d?d.userToken:"")+(d?d.id:"")+c+"100").toUpperCase()},beforeSend:function(a){b.beforeSendCallback&&b.beforeSendCallback(a)},complete:function(a,c){b.completeCallback&&b.completeCallback(a,c)},success:function(a){var c=window.parent;9003==a.code&&(clearTimeout(window.clearLogin),window.clearLogin=setTimeout(function(){alert("\u767B\u5F55\u4EE4\u724C\u5931\u6548,\u8BF7\u91CD\u65B0\u767B\u5F55!"),e?window.location.href="/airport/www/loginPhone.html":c?-1==window.parent.window.location.href.indexOf("indexMg")?window.parent.window.location.href="/airport/www/login.html":window.parent.window.location.href="/airport/www/indexMg.html":-1==window.location.href.indexOf("indexMg")?window.location.href="/airport/www/login.html":window.location.href="/airport/www/indexMg.html"},500)),b.successCallback&&b.successCallback(a)},error:function(a,c){console.log(c),b.errorCallback&&b.errorCallback()}})},a.generateRandomNums=function(a){for(var b,c=["0","1","2","3","4","5","6","7","8","9"],d="",e=0;e<a;e++)b=Math.ceil(10*Math.random()),d+=c[b];return d},a.getGeolocation=function(a){window.navigator.geolocation?window.navigator.geolocation.getCurrentPosition(function(b){var c=b.coords.latitude,d=b.coords.longitude;a.callback&&a.callback(c,d)},function(){a.errorCallback&&a.errorCallback()},{enableHighAccuracy:!0}):a.errorCallback&&a.errorCallback()},a.isLogin=function(b){var c=a.getLocalStorage("userInfo");c||(alert("\u8BF7\u5148\u767B\u5F55\uFF01"),a.setLocalStorage("userInfo",null),a.setLocalStorage("userFuncList",null),!0==b?window.location.href="/airport/www/login.html":!1==b&&(window.parent.window.location.href="/airport/www/login.html"))},a.showMessageTip=function(a,b){return a.selectItem?void(a.isModalLoading=!0,!!b&&b()):(a.$Message.config({top:180,duration:3}),void a.$Message.error({content:{CN:"\u8BF7\u9009\u62E9\u4E00\u6761\u6570\u636E",EN:"Please select a Data",TW:"\u8ACB\u9078\u64C7\u4E00\u689D\u6578\u64DA"}[a.language]}))},a}(window.utility||{});