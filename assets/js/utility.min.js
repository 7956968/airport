window.utility=function(e){return e.getQueryParams=function(e){for(var n=e?e.slice(e.indexOf("?")+1):location.search.length>0?location.search.substring(1):"",t={},o=n.split("&"),a=null,r=null,i=null,c=0,l=o.length;c<l;c++)a=o[c].split("="),r=a[0],i=a[1],t[r]=i;return t},e.setcookie=function(e,n){var t=30,o=new Date;o.setTime(o.getTime()+24*t*60*60*1e3),document.cookie=e+"="+escape(n)+";expires="+o.toGMTString()},e.getcookie=function(e){var n=document.cookie.match(new RegExp("(^| )"+e+"=([^;]*)(;|$)"));return null!=n?n[2]:""},e.delcookie=function(e){var n=new Date;n.setTime(n.getTime()-1);var t=this.getcookie(e);null!=t&&(document.cookie=e+"="+t+";expires="+n.toGMTString())},e.setSessionStorage=function(e,n){window.sessionStorage.setItem(e,JSON.stringify(n))},e.getSessionStorage=function(e){return JSON.parse(window.sessionStorage.getItem(e))},e.cleanSessionStorage=function(){window.sessionStorage.clear()},e.setLocalStorage=function(e,n){window.localStorage.setItem(e,JSON.stringify(n))},e.getLocalStorage=function(e){return JSON.parse(window.localStorage.getItem(e))},e.cleanLocalStorage=function(){window.localStorage.clear()},e.checkLen=function(e,n){return e.length<=n},e.checkName=function(e){return!!e.match(/[\u4E00-\u9FA5]{2,5}(?:·[\u4E00-\u9FA5]{2,5})*/)},e.checkPhone=function(e){return!!e.match(/^(13|14|15|17|18)[0-9]{8}[0-9]$/)},e.checkPass=function(e){return!!e.match(/^(?=.*[a-zA-Z])(?=.*[0-9])[a-zA-Z0-9]{6,16}$/)},e.checkNumber=function(e){return!!e.match(/^(1[0-2]|0?[1-9])(0?[1-9]|[1-2][0-9]|3[0-1])$/)},e.checkIdentityNo=function(e){var n=/^[1-9]\d{7}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}$/,t=/^[1-9]\d{5}[1-9]\d{3}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}([0-9]|X)$/,o=!1;return 15==e.length&&e.match(n)?o=!0:18==e.length&&e.match(t)&&(o=!0),o},e.checkIntNum=function(e){return!!e.match(/^[1-9]\d*$/)},e.checkBlankNum=function(e){return!!e.match(/^(\d{16}|\d{19})$/)},e.getDateDetailInfo=function(e){var n=e?new Date(e):new Date,t=n.getFullYear(),o=n.getMonth(),a=n.getDate(),r=n.getDay(),i=n.getHours(),c=n.getMinutes(),l=n.getSeconds(),u=["星期日","星期一","星期二","星期三","星期四","星期五","星期六"];return{year:t,month:o+1<10?"0"+(o+1):o+1,date:a<10?"0"+a:a,hour:i<10?"0"+i:i,min:c<10?"0"+c:c,second:l<10?"0"+l:l,weekDay:u[r]}},e.convertImgToBase64=function(e,n,t){var o=document.createElement("CANVAS"),a=o.getContext("2d"),r=new Image;r.crossOrigin="Anonymous",r.onload=function(){o.height=r.height,o.width=r.width,a.drawImage(r,0,0);var e=o.toDataURL(t||"image/png");n.call(this,e),o=null},r.src=e},e.readAsDataURL=function(e){"undified"==typeof FileReader&&alert("您老的浏览器不行了！");var n=new FileReader;n.readAsDataURL(e.file),n.onload=function(n){e.readSuccess&&e.readSuccess(this.result)},n.oneror=function(n){e.readError&&e.readError()}},e.interactWithServer=function(n){var t=Date.parse(new Date),o=e.getLocalStorage("userInfo"),a={CN:"cn",EN:"en",TW:"hk"},r=e.getLocalStorage("language")?a[e.getLocalStorage("language").language]:"cn";$.ajax({dataType:"json",url:n.url,async:n.async||!0,type:n.method||"POST",timeout:n.timeout||2e4,contentType:n.contentType||"application/x-www-form-urlencoded",data:n.dataObj||{},headers:n.headers||{version:100,timestamp:t,languageVer:r,appType:n.appType||2,actionUrl:n.actionUrl||"",userId:o?o.id:"",userToken:o?o.userToken:"",signStr:md5((o?o.userToken:"")+(o?o.id:"")+t+"100").toUpperCase()},beforeSend:function(e){n.beforeSendCallback&&n.beforeSendCallback(e)},complete:function(e,t){n.completeCallback&&n.completeCallback(e,t)},success:function(e){var t=window.parent;9003==e.code&&(clearTimeout(window.clearLogin),window.clearLogin=setTimeout(function(){alert("登录令牌失效,请重新登录!"),t?-1!=window.parent.window.location.href.indexOf("indexMg")?window.parent.window.location.href="/airport/www/indexMg.html":window.parent.window.location.href="/airport/www/login.html":-1!=window.location.href.indexOf("indexMg")?window.location.href="/airport/www/indexMg.html":window.location.href="/airport/www/login.html"},500)),n.successCallback&&n.successCallback(e)},error:function(e,t,o){console.log(t),n.errorCallback&&n.errorCallback()}})},e.generateRandomNums=function(e){for(var n=["0","1","2","3","4","5","6","7","8","9"],t="",o=0;o<e;o++){var a=Math.ceil(10*Math.random());t+=n[a]}return t},e.getGeolocation=function(e){window.navigator.geolocation?window.navigator.geolocation.getCurrentPosition(function(n){var t=n.coords.latitude,o=n.coords.longitude;e.callback&&e.callback(t,o)},function(n){e.errorCallback&&e.errorCallback()},{enableHighAccuracy:!0}):e.errorCallback&&e.errorCallback()},e.isLogin=function(n){var t=e.getLocalStorage("userInfo");t||(alert("请先登录！"),e.setLocalStorage("userInfo",null),e.setLocalStorage("userFuncList",null),1==n?window.location.href="/airport/www/login.html":0==n&&(window.parent.window.location.href="/airport/www/login.html"))},e.showMessageTip=function(e,n){if(!e.selectItem)return e.$Message.config({top:180,duration:3}),void e.$Message.error({content:{CN:"请选择一条数据",EN:"Please select a Data",TW:"請選擇一條數據"}[e.language]});e.isModalLoading=!0,n&&n()},e}(window.utility||{});