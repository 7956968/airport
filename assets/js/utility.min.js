window.utility=function(e){return e.getQueryParams=function(e){for(var t=e?e.slice(e.indexOf("?")+1):location.search.length>0?location.search.substring(1):"",n={},o=t.split("&"),a=null,r=null,i=null,c=0,l=o.length;c<l;c++)a=o[c].split("="),r=a[0],i=a[1],n[r]=i;return n},e.setcookie=function(e,t){var n=30,o=new Date;o.setTime(o.getTime()+24*n*60*60*1e3),document.cookie=e+"="+escape(t)+";expires="+o.toGMTString()},e.getcookie=function(e){var t=document.cookie.match(new RegExp("(^| )"+e+"=([^;]*)(;|$)"));return null!=t?t[2]:""},e.delcookie=function(e){var t=new Date;t.setTime(t.getTime()-1);var n=this.getcookie(e);null!=n&&(document.cookie=e+"="+n+";expires="+t.toGMTString())},e.setSessionStorage=function(e,t){window.sessionStorage.setItem(e,JSON.stringify(t))},e.getSessionStorage=function(e){return JSON.parse(window.sessionStorage.getItem(e))},e.cleanSessionStorage=function(){window.sessionStorage.clear()},e.setLocalStorage=function(e,t){window.localStorage.setItem(e,JSON.stringify(t))},e.getLocalStorage=function(e){return JSON.parse(window.localStorage.getItem(e))},e.cleanLocalStorage=function(){window.localStorage.clear()},e.checkLen=function(e,t){return e.length<=t},e.checkName=function(e){return!!e.match(/[\u4E00-\u9FA5]{2,5}(?:·[\u4E00-\u9FA5]{2,5})*/)},e.checkPhone=function(e){return!!e.match(/^(13|14|15|17|18)[0-9]{8}[0-9]$/)},e.checkPass=function(e){return!!e.match(/(?!^(\d+|[a-zA-Z]+|[~!@#$%^&*?]+)$)^[\w~!@#$%^&*?]{6,20}$/)},e.checkNumber=function(e){return!!e.match(/^(1[0-2]|0?[1-9])(0?[1-9]|[1-2][0-9]|3[0-1])$/)},e.checkIdentityNo=function(e){var t=/^[1-9]\d{7}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}$/,n=/^[1-9]\d{5}[1-9]\d{3}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}([0-9]|X)$/,o=!1;return 15==e.length&&e.match(t)?o=!0:18==e.length&&e.match(n)&&(o=!0),o},e.checkIsNum=function(e){return!!e.match(/^[0-9]\d*$/)},e.checkIntNum=function(e){return!!e.match(/^[1-9]\d*$/)},e.checkBlankNum=function(e){return!!e.match(/^(\d{16}|\d{19})$/)},e.getDateDetailInfo=function(e){var t=e?new Date(e):new Date,n=t.getFullYear(),o=t.getMonth(),a=t.getDate(),r=t.getDay(),i=t.getHours(),c=t.getMinutes(),l=t.getSeconds(),u=["星期日","星期一","星期二","星期三","星期四","星期五","星期六"];return{year:n,month:o+1<10?"0"+(o+1):o+1,date:a<10?"0"+a:a,hour:i<10?"0"+i:i,min:c<10?"0"+c:c,second:l<10?"0"+l:l,weekDay:u[r]}},e.timeDiff=function(e,t){var n=e?new Date(e.replace(/\-/g,"/")).getTime():(new Date).getTime(),o=t?new Date(t.replace(/\-/g,"/")).getTime():(new Date).getTime(),a=Math.abs(n-o),r=Math.floor(a/864e5),i=a%864e5,c=Math.floor(i/36e5),l=i%36e5,u=Math.floor(l/6e4),s=l%6e4,d=Math.round(s/1e3);return{timeStamp:a,isOver:n<o,day:r,hour:c,minute:u,second:d}},e.convertImgToBase64=function(e,t,n){var o=document.createElement("CANVAS"),a=o.getContext("2d"),r=new Image;r.crossOrigin="Anonymous",r.onload=function(){o.height=r.height,o.width=r.width,a.drawImage(r,0,0);var e=o.toDataURL(n||"image/png");t.call(this,e),o=null},r.src=e},e.readAsDataURL=function(e){"undified"==typeof FileReader&&alert("您老的浏览器不行了！");var t=new FileReader;t.readAsDataURL(e.file),t.onload=function(t){e.readSuccess&&e.readSuccess(this.result)},t.oneror=function(t){e.readError&&e.readError()}},e.interactWithServer=function(t){var n=Date.parse(new Date),o=e.getLocalStorage("userInfo"),a=e.getLocalStorage("isPhone"),r={CN:"cn",EN:"en",TW:"hk"},i=e.getLocalStorage("language")?r[e.getLocalStorage("language").language]:"cn";$.ajax({dataType:"json",url:t.url,async:t.async||!0,type:t.method||"POST",timeout:t.timeout||2e4,contentType:t.contentType||"application/x-www-form-urlencoded",data:t.dataObj||{},headers:t.headers||{version:100,timestamp:n,languageVer:i,appType:t.appType||2,actionUrl:t.actionUrl||"",userId:o?o.id:"",userToken:o?o.userToken:"",signStr:md5((o?o.userToken:"")+(o?o.id:"")+n+"100").toUpperCase()},beforeSend:function(e){t.beforeSendCallback&&t.beforeSendCallback(e)},complete:function(e,n){t.completeCallback&&t.completeCallback(e,n)},success:function(e){var n=window.parent;9003==e.code&&(clearTimeout(window.clearLogin),window.clearLogin=setTimeout(function(){alert("登录令牌失效,请重新登录!"),a?window.location.href="/airport/www/loginPhone.html":n?-1!=window.parent.window.location.href.indexOf("indexMg")?window.parent.window.location.href="/airport/www/indexMg.html":window.parent.window.location.href="/airport/www/login.html":-1!=window.location.href.indexOf("indexMg")?window.location.href="/airport/www/indexMg.html":window.location.href="/airport/www/login.html"},500)),t.successCallback&&t.successCallback(e)},error:function(e,n,o){console.log(n),t.errorCallback&&t.errorCallback()}})},e.generateRandomNums=function(e){for(var t=["0","1","2","3","4","5","6","7","8","9"],n="",o=0;o<e;o++){var a=Math.ceil(10*Math.random());n+=t[a]}return n},e.getGeolocation=function(e){window.navigator.geolocation?window.navigator.geolocation.getCurrentPosition(function(t){var n=t.coords.latitude,o=t.coords.longitude;e.callback&&e.callback(n,o)},function(t){e.errorCallback&&e.errorCallback()},{enableHighAccuracy:!0}):e.errorCallback&&e.errorCallback()},e.isLogin=function(t,n){var o=e.getLocalStorage("userInfo");o||(alert("请先登录！"),e.setLocalStorage("userInfo",null),e.setLocalStorage("userFuncList",null),void 0!==n?1==t?window.location.href="/airport/www/indexMg.html":0==t&&(window.parent.window.location.href="/airport/www/indexMg.html"):1==t?window.location.href="/airport/www/login.html":0==t&&(window.parent.window.location.href="/airport/www/login.html"))},e.showMessageTip=function(e,t){if(!e.selectItem)return e.$Message.config({top:180,duration:3}),void e.$Message.error({content:{CN:"请选择一条数据",EN:"Please select a Data",TW:"請選擇一條數據"}[e.language]});e.isModalLoading=!0,t&&t()},e.convertorByBaidu=function(e,t,n,o){var a=t.transform([parseFloat(e[0]),parseFloat(e[1])],t.WGS84,t.BD09),r=new n.Point(a[0],a[1]);return o&&o(r,a[0],a[1]),a},e.getAdressDetail=function(e,t,n){var o=new t.Geocoder,a=new t.Point(e[0],e[1]),r="";o.getLocation(a,function(e){r=e.surroundingPois.length>0?e.surroundingPois[0].address+"("+e.surroundingPois[0].title+")":e.address,n&&n(r)})},e}(window.utility||{});